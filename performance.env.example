# 性能配置示例文件
# 复制为 .env 文件并根据你的硬件调整参数

# ===========================================
# 批次处理性能配置
# ===========================================

# 最大批次线程数 (建议设置为CPU核心数或稍少)
# 4核CPU建议设置为4，8核CPU建议设置为6-8
MAX_BATCH_THREADS=4

# 批次大小范围
# 最小批次大小 (太小会增加线程切换开销)
MIN_BATCH_SIZE=20
# 最大批次大小 (太大会占用过多内存)
MAX_BATCH_SIZE=80

# ===========================================
# 模型线程配置
# ===========================================

# 每个批次的ASR模型线程数
# 建议设置为 1-2，避免与批次线程竞争
ASR_THREADS_PER_BATCH=2

# 每个批次的标点符号模型线程数
# 建议设置为 1-2
PUNCTUATION_THREADS_PER_BATCH=2

# VAD模型线程数 (全局共享)
# 建议保持为2
# VAD_THREADS=2

# 声纹识别模型线程数 (全局共享)
# 建议保持为2
# SPEAKER_THREADS=2

# ===========================================
# 硬件配置参考
# ===========================================

# 4核4线程CPU (如Intel i5老款):
# MAX_BATCH_THREADS=3
# ASR_THREADS_PER_BATCH=1
# PUNCTUATION_THREADS_PER_BATCH=1

# 4核8线程CPU (如Intel i7, AMD Ryzen 5):
# MAX_BATCH_THREADS=4
# ASR_THREADS_PER_BATCH=2
# PUNCTUATION_THREADS_PER_BATCH=2

# 6核12线程CPU (如Intel i7高端, AMD Ryzen 7):
# MAX_BATCH_THREADS=6
# ASR_THREADS_PER_BATCH=2
# PUNCTUATION_THREADS_PER_BATCH=2

# 8核16线程CPU (如Intel i9, AMD Ryzen 9):
# MAX_BATCH_THREADS=8
# ASR_THREADS_PER_BATCH=2
# PUNCTUATION_THREADS_PER_BATCH=2

# ===========================================
# 其他配置
# ===========================================

# 基础工作线程数 (用于模型初始化等)
MAX_WORKERS=4

# 线程池大小 (用于异步任务)
THREAD_POOL_SIZE=8
